"use strict";const o=require("../common/vendor.js"),y=o.d("read-history",()=>{const s=o.r(o.i.getStorageSync("last-read-book-id")),a=o.a(new Map);n();function n(){const e=o.i.getStorageSync("read-history");if(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t)){const r=e[t];if(r){const g=parseInt(r);a.set(t,g)}}}}function i(){const e={};Array.from(a.entries()).forEach(t=>{e[t[0]]=t[1]}),o.i.setStorage({key:"read-history",data:e})}function c(e){let t=a.get(e);return typeof t=="string"&&(t=parseInt(t)),t}function d(e,t){a.set(e,t),i(),o.i.setStorage({key:"last-read-book-id",data:e})}return{lastReadBookId:s,getReadPage:c,setReadPage:d}});exports.u=y;
